import React, {useContext, useState} from 'react'
import {Link} from "react-router-dom";
import {CurrentUserContext} from 'contexts/currentUser'
import {modalContext} from 'contexts/modalContext'
import SignIn from 'pages/signIn'
import SignUp from 'pages/signUp'

const TopBar = () => {

    const [currentUserState] = useContext(CurrentUserContext)
    const {modalContent, handleModal, modal} = useContext(modalContext)

    const handleSignInButton = event => {
        event.preventDefault()
        handleModal(<SignIn/>)
    }

    const handleSignUpButton = event => {
        event.preventDefault()
        handleModal(<SignUp/>)
    }

    return (
        <>
            <header>
            <div className="hed_up">
                <div className="container">
                    <div className="hed_up_item hed_up_logo">
                        <Link to="/"><img src={process.env.PUBLIC_URL + '/img/logo.svg'} alt='Автопортал'/></Link>
                    </div>
                    <div className="hed_up_item hed_up_location clickme_town">
                        <span>Уфа</span>
                    </div>
                    <div className="hed_up_item hed_up_menu">
                        <ul>
                            <li><a>Главная</a></li>
                            <li><a>О проекте</a></li>
                            <li><a>Условия размещения</a></li>
                            <li><a>Как разместиться</a></li>
                            {
                                currentUserState.isLoggedIn === true && currentUserState.currentUser &&
                                    <>
                                        <li>{currentUserState.currentUser.fio}</li>
                                    </>
                            }
                            {
                                currentUserState.isLoggedIn === false &&
                                <>
                                    <li><a onClick={handleSignInButton}>Войти</a></li>
                                    <li><a onClick={handleSignUpButton}>Регистрация</a></li>
                                </>
                            }
                        </ul>
                    </div>
                </div>
            </div>


            <div className="hed_down">
                <div className="container">
                    <ul>
                        <li><a>Автозапчасти</a></li>
                        <li><a>Автосервисы</a></li>
                        <li><a>Установка</a></li>
                        <li><a>Тюнинг и уход</a></li>
                        <li><a>Авторазборы</a></li>
                        <li><a>Автотехпомощь</a></li>
                        <li><a>Страхование ТС</a></li>
                        <li><a>Автоюристы</a></li>
                    </ul>
                </div>
            </div>
            </header>
        </>
    )
}

export default TopBar
