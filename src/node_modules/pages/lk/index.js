import React, {useState, useEffect, useContext} from 'react'
import LkMenu from './menu'
import {CurrentUserContext} from 'contexts/currentUser'

const LK = () => {
    const [currentUserState] = useContext(CurrentUserContext)

    const [firstName, setFirstName] = useState('')
    const [lastName, setLastName] = useState('')
    const [middleName, setMiddleName] = useState('')
    const [birthDate, setBirthDate] = useState('')
    const [email, setEmail] = useState('')
    const [phoneNumber, setPhoneNumber] = useState('')
    const [city, setCity] = useState('')
    const [address, setAddress] = useState('')

    const [driverLicenseSerial, setDriverLicenseSerial] = useState('')
    const [driverLicenseNumber, setDriverLicenseNumber] = useState('')

    useEffect(() => {
        if (currentUserState.currentUser == null) return
        setFirstName(currentUserState.currentUser.firstName)
        setLastName(currentUserState.currentUser.lastName)
        setMiddleName(currentUserState.currentUser.middleName)
        setBirthDate(currentUserState.currentUser.birthDate)
        setEmail(currentUserState.currentUser.email)
        setPhoneNumber(currentUserState.currentUser.phone)
    }, [currentUserState])

    return (
        <div>
            <LkMenu/>

            <section className="pers_date">
                <div className="container">
                    <h1 className="title4">Персональные данные</h1>
                    <form className="pers_date_form">
                        <div className="pers_date_row">
                            <div className="pers_date_item">
                                <label>Фамилия</label>
                                <input
                                    type="text"
                                    placeholder="Иванов"
                                    value={lastName}
                                    onChange={e => setLastName(e.target.value)}
                                />
                            </div>
                            <div className="pers_date_item">
                                <label>Электронная почта</label>
                                <input
                                    type="email"
                                    placeholder="valerii.ivanov.k@mail.ru"
                                    value={email}
                                    onChange={e => setEmail(e.target.value)}
                                />
                            </div>
                            <div className="pers_date_item">
                                <label>Водительское удостоверение: серия</label>
                                <input
                                    type="text"
                                    placeholder="02 06"
                                    value={driverLicenseSerial}
                                    onChange={e => setDriverLicenseSerial(e.target.value)}
                                />
                            </div>
                            <div className="pers_date_item">
                                <label>Водительское удостоверение: номер</label>
                                <input
                                    type="text"
                                    placeholder="526339"
                                    value={driverLicenseNumber}
                                    onChange={e => setDriverLicenseNumber(e.target.value)}
                                />
                            </div>
                        </div>
                        <div className="pers_date_row">
                            <div className="pers_date_item">
                                <label>Имя</label>
                                <input
                                    type="text"
                                    placeholder="Валерий"
                                    value={firstName}
                                    onChange={e => setFirstName(e.target.value)}
                                />
                            </div>
                            <div className="pers_date_item">
                                <label>Номер телефона</label>
                                <input
                                    type="tel"
                                    placeholder="+7 (917) 487-85-85"
                                    value={phoneNumber}
                                    onChange={e => setPhoneNumber(e.target.value)}
                                />
                            </div>
                        </div>
                        <div className="pers_date_row">
                            <div className="pers_date_item">
                                <label>Отчество</label>
                                <input
                                    type="text"
                                    placeholder="Константинович"
                                    value={middleName}
                                    onChange={e => setMiddleName(e.target.value)}
                                />
                            </div>
                            <div className="pers_date_item">
                                <label>Город</label>
                                <input
                                    type="text"
                                    placeholder="Уфа"
                                    value={city}
                                    onChange={e => setCity(e.target.value)}
                                />
                            </div>
                        </div>
                        <div className="pers_date_row last">
                            <div className="pers_date_item">
                                <label>Дата рождения</label>
                                <input
                                    type="date"
                                    placeholder="21.12.1998"
                                    value={birthDate}
                                    onChange={e => setBirthDate(e.target.value)}
                                />
                            </div>
                            <div className="pers_date_item">
                                <label>Адрес</label>
                                <input
                                    type="text"
                                    placeholder="ул. Академика Королева, д.18"
                                    value={address}
                                    onChange={e => setAddress(e.target.value)}
                                />
                            </div>
                        </div>
                        <input type={'submit'} style={{cursor: "pointer"}} value="Сохранить изменения" className="hover2"/>
                    </form>
                </div>
            </section>
        </div>
    )
}

export default LK
