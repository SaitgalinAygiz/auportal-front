import React, {useContext, useEffect, useState} from 'react'
import {CurrentUserContext} from 'contexts/currentUser'
import {NavLink} from "react-router-dom";

const LkMenu = () => {
    const [fio, setFio] = useState('')
    const [currentUserState] = useContext(CurrentUserContext)

    useEffect(() => {
        const currentUser = currentUserState.currentUser
        if (currentUser == null) return

        const firstSymbol = currentUser.firstName.charAt(0)
        const secondSymbol = currentUser.middleName.charAt(0)
        setFio(`${currentUser.lastName} ${firstSymbol}. ${secondSymbol}.`)

    }, [currentUserState])
    return (
        <section className="menu_lc">
            <div className="container">
                <div className="menu_lc_up">
                    <div className="menu_lc_up_item">
                        <NavLink to={"/lk/personal"} activeClassName={'active'}><img src={'/img/bi_gear.svg'} alt={'personal data'}/>Персональные<br/> данные</NavLink>
                        <NavLink to={"/lk/subaccounts"} activeClassName={'active'}><img src={'/img/la_handshake.svg'} alt={'my companies'}/>Мои компании</NavLink>
                        <NavLink to={"/lk/autos"} activeClassName={'active'}><img src={'/img/bx_bx-car.svg'}  alt={'autos'}/>Мои<br/> автомобили</NavLink>
                    </div>
                    <div className="menu_lc_up_item">
                        <NavLink to={"/lk/addSubAccount"} activeClassName={'active'}>
                            <img alt={'add company'} src={'/img/plis.svg'}/> Добавить компанию
                        </NavLink>
                    </div>
                    <div className="menu_lc_up_item">
                        <a><img src={'/img/pep.svg'} alt={'partners'}/>Партнерство</a>
                        <a><img src={'/img/earsh.svg'} alt={'support'}/>Техподдержка</a>
                        <a><img src={'/img/la_moneu.svg'} alt={'balance'}/>Баланс: <span
                            className="red"> 3700 рублей</span></a>
                    </div>
                </div>
                <div className="menu_lc_down">
                    <div className="menu_lc_down_name">
                        <div className="menu_lc_down_name_img">
                            <div className="menu_lc_down_name_foll">3</div>
                            <img src="/img/test11.png" alt={'down'}/>
                        </div>
                        <p
                        >{fio}</p>
                    </div>
                    <div className="menu_lc_down_row">
                        <a className="menu_lc_down_item act"><img alt={'messages'} src={'/img/mail2.svg'}/>Сообщения</a>
                        <a className="menu_lc_down_item">Входящие</a>
                        <a className="menu_lc_down_item">Отправленные</a>
                        <a className="menu_lc_down_item">Подтвержденые</a>
                        <a className="menu_lc_down_item">Исполненные</a>
                        <a className="menu_lc_down_item">Удаленные</a>
                    </div>
                </div>
            </div>
        </section>
    )
}

export default LkMenu
